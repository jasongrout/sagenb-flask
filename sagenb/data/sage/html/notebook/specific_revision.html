{% extends "html/notebook/worksheet_page_template.html" %}
{#
INPUT:
- worksheet - an instance of Worksheet
- worksheet_filename - a string containing a worksheet's filename
- username - a string containing a username
- rev - this revision's key
- prev_rev - the previous revision's key
- next_rev - the next revision's key
- time_ago - a string containing the time since revision
- body_worksheet_html - the body html of the worksheet
- JSMATH - a boolean stating whether to include jsMath
- JEDITABLE_TINYMCE - a boolean stating whether to include jEditable and TinyMCE
#}

{% set select = "revisions" %}
{% block sharebar_title %}
Revision from {{ time_ago }} ago&nbsp;&nbsp;&nbsp;&nbsp;<a href='revisions'>Revision List</a>
{% endblock %}

{% block page_id %}specific-revision-page{% endblock %}

{% macro actions() %}
{% if prev_rev %}
    <a class="listcontrol" href="revisions?rev={{ prev_rev }}">Older</a>
{% else %}
    Oldest
{% endif %}

{% if next_rev %}
    <a class="listcontrol" href="revisions?rev={{ next_rev }}">Newer</a>
{% else %}
    Newest
{% endif %}

<a class="listcontrol" href="revisions?rev={{ rev }}&action=revert">Revert to this one</a> <span class="lastedit">(note that images are not recorded)</span>&nbsp;&nbsp;
<a class="listcontrol" href="revisions?rev={{ rev }}&action=publish">Publish this one</a>
{% endmacro %}

{% block after_sharebar %}
{{ actions() }}
<div id="revision-data">
    {{ body_worksheet_html }}
</div>
{{ actions() }}
<script type="text/javascript">
  $(document).ready(function () {
    jsMath.Process();
  });
</script>
{% endblock %}
